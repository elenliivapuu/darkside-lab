import{_ as r,c as i,b as o,F as d,l as c,o as l,t as s}from"./index-CX48qhBk.js";const p={data:function(){return{events:[]}},methods:{async loadBookings(){try{const e=await fetch("/api/bookings?adminKey=YmVwaXNiZXN0");if(!e.ok)throw new Error("Failed to fetch bookings");const n=await e.json();this.events=n}catch(e){console.error("Error loading bookings:",e)}},async deleteBooking(e){const n=await fetch("/api/bookings?adminKey=YmVwaXNiZXN0",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({bookingId:e})});if(!n.ok)throw new Error("Failed to delete booking",e);console.log(n.json()),this.loadBookings()}},mounted(){this.loadBookings()}},u={class:"container",style:{color:"white"}},m=["onClick"];function g(e,n,k,h,f,a){return l(),i("main",null,[o("div",u,[n[1]||(n[1]=o("p",null,"Admin",-1)),n[2]||(n[2]=o("p",null,"All bookings:",-1)),o("ul",null,[(l(!0),i(d,null,c(e.events,t=>(l(),i("li",{key:t._id,style:{"line-height":"1.0"}},[o("p",null,"Date: "+s(t.startDate),1),o("p",null,"Name: "+s(t.name),1),o("p",null,"Phone: "+s(t.phone),1),o("p",null,"Email: "+s(t.email),1),o("p",null,"Comment: "+s(t.comment),1),o("p",null,"Registered: "+s(t.createdAt),1),o("button",{onClick:y=>a.deleteBooking(t._id)},"Delete Booking",8,m),n[0]||(n[0]=o("hr",null,null,-1))]))),128))])])])}const b=r(p,[["render",g],["__scopeId","data-v-1852c76f"]]);export{b as default};
